<app-menu></app-menu>
<div class="container">
	<div class="row">
			<div class="col-md-6 col-sm-6 col-xs-12">
				<label class="control-label col-sm-2" for="desgn">Designation:</label>
			    <div class="col-sm-10">
			      	<select [(ngModel)]="searchQuery.designationId" class="form-control" name="desgn" ngModel required>
			      		<option value="0" selected>Choose Designation...</option>
			  			<option *ngFor="let designation of designations" value= {{designation.designationId}}>{{designation.designation}}</option>
					</select>
			    </div>
			</div>
			<div class="col-md-6 col-sm-6 col-xs-12">
				<label class="control-label col-sm-2" for="desgn">Designation Group:</label>
			    <div class="col-sm-10">
			      	<select [(ngModel)]="searchQuery.designationGroupId" class="form-control" name="desgG" ngModel required>
			      		<option value="0" selected>Choose Designation Group...</option>
  						<option *ngFor="let desgGrs of designationGroups" value= {{desgGrs.designationGroupId}}>{{desgGrs.designationGroup}}</option>
					</select>
			    </div>
			</div>
			<div class="col-md-6 col-sm-6 col-xs-12">
				<label class="control-label col-sm-2" for="org">Organization:</label>
			    <div class="col-sm-10">
			      	<select [(ngModel)]="searchQuery.orgId" class="form-control" name="org" ngModel required>
			      		<option value="0" selected>Choose Organization...</option>
  						<option *ngFor="let org of organizations" value= {{org.organisationID}}>{{org.organisation}}</option>
					</select>
			    </div>
			</div>
			<div class="col-md-6 col-sm-6 col-xs-12">
				<label class="control-label col-sm-2" for="domain">Industry:</label>
			    <div class="col-sm-10">
			      	<select [(ngModel)]="searchQuery.domainID" class="form-control" name="domain" ngModel required>
			      		<option value="0" selected>Choose Industry:...</option>
  						<option *ngFor="let domain of domains" value= {{domain.domainID}}>{{domain.domainName}}</option>
					</select>
			    </div>
			</div>
			<div class="col-md-6 col-sm-6 col-xs-12">
				<label class="control-label col-sm-2" for="firstN">First Name:</label>
		    	<div class="col-sm-10">
		      		<input type="text" class="form-control" id="orgName" name="firstN" placeholder="First Name" [(ngModel)]="searchQuery.firstName" ngModel required>
		    	</div>
			</div>
			<div class="col-md-6 col-sm-6 col-xs-12">
				<label class="control-label col-sm-2" for="lastN">Last Name:</label>
			    <div class="col-sm-10">
			      <input type="text" class="form-control" id="lastN" name="lastN" placeholder="Last Name" [(ngModel)]="searchQuery.lastName" ngModel required>
			    </div>
			</div>
			<div class="col-md-6 col-sm-6 col-xs-12">
				<label class="control-label col-sm-2" for="gender">Geography:</label>
			    <div class="col-sm-10">
					<select [(ngModel)]="searchQuery.geographyId" name="geography" class="form-control">
		      			<option value="0" selected>Choose Geography...</option>
		  				<option *ngFor="let geo of geographies" value= {{geo.geographyID}}>{{geo.geographyName}}</option>
					</select>
			    </div>
			</div>
			<div class="col-md-6 col-sm-6 col-xs-12">
				<label class="control-label col-sm-2" for="email">Email:</label>
			    <div class="col-sm-10">
			      <input type="email" class="form-control" id="email" name="email" placeholder="Email" [(ngModel)]="searchQuery.email" ngModel required>
			    </div>
			</div>
		</div>
		<div class="row">
			<div class="col-md-2 col-sm-2 col-xs-4 pull-right">
	      		<button type="submit" class="btn btn-primary" (click)="searchContact()">Search</button>
	    	</div>
		</div>
		<div class="row" style="padding-top:15px;">
			<div class="table-responsive" >
				<table class="table table-striped">
				    <thead>
				      <tr>
				      	<td>
				      		<input type="checkbox" 
				      		name="options" [(ngModel)]="isAllChecked"
				      		(change)="checkUncheckALL()"/>
				      	</td>
				        <th>Name</th>
				        <th>Geography</th>
				        <th>Email</th>
				        <th>Designation</th>
				        <th>Phone Number</th>
				        <th>Organization</th>
				      </tr>
				    </thead>
				    <tbody *ngIf="selectableCommunications?.length > 0">
				      <tr *ngFor="let selectableCommunication of selectableCommunications">
				      	<td><input type="checkbox" name="options" value="{{selectableCommunication.communication.contact.campaignID}}" [(ngModel)]="selectableCommunication.isAssignedToCampaign"/></td>
				        <td>{{ selectableCommunication.communication.contact.contactName }}</td>
				        <td>{{ selectableCommunication.communication.contact.organization.geography?.geographyName}}</td>
				        <td>{{ selectableCommunication.communication.contact.email }}</td>
				        <td>{{ selectableCommunication.communication.contact.designation.designation }}</td>
				        <td>{{ selectableCommunication.communication.contact.primaryPhone }}/{{ selectableCommunication.communication.contact.secondaryPhone }}</td>
				        <td>{{ selectableCommunication.communication.contact.organization.organisation }}</td>
				      </tr>
				    </tbody>
				    <tbody *ngIf="selectableCommunications?.length == 0">
				    	<tr><td>No Records Found</td></tr>
				    </tbody>
				  </table>
			</div>
		</div>	
		<div class="row">
			<div class="col-md-2 col-sm-2 col-xs-4 pull-right">
	      		<button type="submit" class="btn btn-primary" (click)="addContact()">Assign Contacts</button>
	    	</div>
		</div>
	</div>
	
	